<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
	body,dl,dt,dd,p{margin:0;padding:0;}
	body{font-family:Tahoma;font-size:12px;}
	label,input,a{vertical-align:middle;}
	label{padding:0 10px 0 5px;}
	a{color:#09f;text-decoration:none;}
	a:hover{color:red;}
	dl{width:120px;margin:10px auto;padding:10px 5px;border:1px solid #666;border-radius:5px;background:#fafafa;}
	dt{padding-bottom:10px;border-bottom:1px solid #666;}
	dt label{font-weight:700;}
	p{margin-top:10px;}
	</style>
</head>
<body>
	<dl>
	    <dt><input type="checkbox" id="checkAll"><label>全选</label><a href="javascript:;">反选</a></dt>
	    <dd>
	        <p><input type="checkbox" name="item"><label>选项（一）</label></p>
	        <p><input type="checkbox" name="item"><label>选项（二）</label></p>
	        <p><input type="checkbox" name="item"><label>选项（三）</label></p>
	        <p><input type="checkbox" name="item"><label>选项（四）</label></p>
	        <p><input type="checkbox" name="item"><label>选项（五）</label></p>
	        <p><input type="checkbox" name="item"><label>选项（六）</label></p>
	        <p><input type="checkbox" name="item"><label>选项（七）</label></p>
	        <p><input type="checkbox" name="item"><label>选项（八）</label></p>
	        <p><input type="checkbox" name="item"><label>选项（九）</label></p>
	        <p><input type="checkbox" name="item"><label>选项（十）</label></p>
	    </dd>    
	</dl>
	<center>1、切换全选/全不选文字；2、根据选中个数更新全选框状态；</center>
	<script type="text/javascript">	
	window.onload = function() {
		var ocheckbox = document.getElementById('checkAll');
		var olabel = document.getElementsByTagName('dt')[0].getElementsByTagName('label')[0];
		var oa = document.getElementsByTagName('dt')[0].getElementsByTagName('a')[0];
		var oitem = document.getElementsByTagName('input');
		var btn = true;
		function isSelectAll() {	
			var n = 1;
			for (var i = 1; i < oitem.length; i++) {
				if (oitem[i].checked) {
					n++;
				}
			}
			if (n >= oitem.length) {
				oitem[0].checked = true;
				olabel.innerHTML = "全不选";
			} else {
				oitem[0].checked = false;
				olabel.innerHTML = "全选";
			}
		}
		ocheckbox.onclick = function() {
			for (var i = 1; i < oitem.length; i++) {
				oitem[i].checked = this.checked;
			}
			isSelectAll();
		};
		oa.onclick = function() {
			for (var i = 1; i < oitem.length; i++) {
				oitem[i].checked = !oitem[i].checked;
			}	
			isSelectAll();
		};

		for (var i = 1; i < oitem.length; i++) {
			oitem[i].onclick = function() {
				isSelectAll();
			};
		}
	};
	</script>
</body>
</html>